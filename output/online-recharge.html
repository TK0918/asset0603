<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>在线充值 - 资金中台管理系统</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: #f8fafc;
      color: #333;
      line-height: 1.6;
    }

    .container {
      max-width: 1600px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header */
    header {
      background: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 30px;
    }

    .logo {
      font-size: 24px;
      font-weight: 700;
      color: #2563eb;
      text-decoration: none;
    }

    .nav-menu {
      display: flex;
      list-style: none;
      gap: 30px;
    }

    .nav-menu li {
      position: relative;
    }

    .nav-menu li a {
      text-decoration: none;
      color: #64748b;
      font-weight: 500;
      transition: color 0.3s ease;
      padding: 10px 15px;
      border-radius: 8px;
      display: block;
    }

    .nav-menu li a:hover,
    .nav-menu li a.active {
      color: #2563eb;
      background: rgba(37, 99, 235, 0.1);
    }

    /* 下拉菜单样式 */
    .dropdown {
      position: relative;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background: white;
      min-width: 200px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      border-radius: 8px;
      z-index: 1000;
      padding: 8px 0;
      border: 1px solid #e2e8f0;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    .dropdown-content a {
      padding: 12px 20px;
      display: block;
      border-radius: 0;
      font-size: 14px;
    }

    .dropdown-content a:hover {
      background: rgba(37, 99, 235, 0.1);
      color: #2563eb;
    }

    /* Page Header */
    .page-header {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      margin-bottom: 30px;
      border-left: 4px solid #2563eb;
    }

    .page-title {
      font-size: 28px;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 10px;
    }

    .page-description {
      color: #64748b;
      font-size: 16px;
    }

    /* 分页样式 */
    .pagination-controls { display:flex; align-items:center; gap:8px; }
    .page-size-select { padding:6px 12px; border:1px solid #e2e8f0; border-radius:6px; font-size:14px; }
    .pagination-container { display:flex; justify-content:space-between; align-items:center; padding:20px 25px; border-top:1px solid #e2e8f0; background:#f8fafc; }
    .pagination-left { display:flex; align-items:center; gap:20px; }
    .pagination-info { color:#64748b; font-size:14px; }
    .pagination { display:flex; align-items:center; gap:8px; }
    .pagination-btn { padding:8px 12px; border:1px solid #e2e8f0; background:white; border-radius:6px; cursor:pointer; font-size:14px; transition:all 0.2s; }
    .pagination-btn:hover:not(:disabled) { background:#f1f5f9; border-color:#cbd5e1; }
    .pagination-btn:disabled { opacity:0.5; cursor:not-allowed; }
    .pagination-btn.active { background:#2563eb; color:white; border-color:#2563eb; }
    .page-numbers { display:flex; gap:4px; }
    .page-jump { display:flex; align-items:center; gap:8px; margin-left:20px; }
    .jump-input { width:60px; padding:6px 8px; border:1px solid #e2e8f0; border-radius:4px; text-align:center; font-size:14px; }
    .jump-btn { padding:6px 12px; border:1px solid #2563eb; background:#2563eb; color:white; border-radius:4px; cursor:pointer; font-size:14px; }
    .jump-btn:hover { background:#1d4ed8; }

    /* Search Section */
    .search-section {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      margin-bottom: 25px;
    }

    .search-row {
      display: flex;
      gap: 20px;
      align-items: end;
      flex-wrap: wrap;
    }

    .search-group { flex: 1; min-width: 180px; }
    .search-group label { display: block; margin-bottom: 8px; font-weight: 500; color: #374151; }
    .search-input { width: 100%; padding: 12px 16px; border: 2px solid #e2e8f0; border-radius: 8px; font-size: 14px; transition: border-color 0.3s ease; }
    .search-input:focus { outline: none; border-color: #2563eb; }

    .btn { padding: 12px 24px; border: none; border-radius: 8px; font-weight: 500; cursor: pointer; transition: all 0.3s ease; font-size: 14px; text-decoration: none; display: inline-block; text-align: center; }
    .btn-primary { background: #2563eb; color: white; }
    .btn-primary:hover { background: #1d4ed8; }
    .btn-secondary { background: #6b7280; color: white; }
    .btn-secondary:hover { background: #4b5563; }

    /* Table */
    .table-container { background: white; border-radius: 12px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); overflow: hidden; }
    .table-header { display: flex; justify-content: space-between; align-items: center; padding: 25px; border-bottom: 1px solid #e2e8f0; }
    .table-title { font-size: 20px; font-weight: 600; color: #1e293b; }
    .table-wrapper { overflow-x: auto; position: relative; }

    .recharge-table { width: 100%; min-width: 1800px; border-collapse: collapse; position: relative; }
    .recharge-table th, .recharge-table td { padding: 12px 8px; text-align: left; border-bottom: 1px solid #f1f5f9; font-size: 12px; white-space: nowrap; }
    .recharge-table th { background: #f8fafc; font-weight: 600; color: #374151; position: sticky; top: 0; z-index: 10; }

    .status-badge { padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: 500; }
    .status-pending { background: #fef3c7; color: #92400e; }
    .status-success { background: #dcfce7; color: #166534; }
    .status-failed { background: #fee2e2; color: #991b1b; }

    .amount-large { font-weight: 600; font-size: 13px; }
    .amount-positive { color: #059669; }
    .amount-negative { color: #dc2626; }

    .platform-tag { background: #f3e8ff; color: #7c3aed; padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: 500; }
    .business-tag { background: #dbeafe; color: #1e40af; padding: 2px 8px; border-radius: 4px; font-size: 10px; font-weight: 500; }

    @media (max-width: 768px) {
      .search-row { flex-direction: column; }
      .search-group { min-width: 100%; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <a href="index.html" class="logo">资金中台</a>
      <nav>
        <ul class="nav-menu">
          <li><a href="index.html">首页</a></li>
          <li class="dropdown">
            <a href="customer-management.html">账户管理</a>
            <div class="dropdown-content">
              <a href="customer-management.html">账户管理</a>
            </div>
          </li>
          <li class="dropdown">
            <a href="online-recharge.html">转账和收款</a>
            <div class="dropdown-content">
              <a href="online-recharge.html" class="active">在线充值</a>
              <a href="transfer-audit.html">转账审核</a>
              <a href="account-config.html">收款账户</a>
              <a href="receiving-ledger.html">收款明细</a>
            </div>
          </li>
          <li class="dropdown">
            <a href="transaction-details.html">交易管理</a>
            <div class="dropdown-content">
              <a href="transaction-details.html">交易明细</a>
            </div>
          </li>
          <li class="dropdown">
            <a href="credit-audit.html">额度管理</a>
            <div class="dropdown-content">
              <a href="credit-audit.html">信用额度</a>
              <a href="credit-bill.html">额度账单</a>
            </div>
          </li>
          <li class="dropdown">
            <a href="../Public component/button.html" target="_blank">公共组件</a>
            <div class="dropdown-content">
              <a href="../Public component/button.html" target="_blank">充值转账组件</a>
              <a href="../Public component/payment.html" target="_blank">支付组件</a>
              <a href="../Public component/payment2.html" target="_blank">支付组件(三列)</a>
              <a href="../Public component/view.html" target="_blank">钱包余额组件</a>
            </div>
          </li>
          <li class="dropdown">
            <a href="exchange-rate-detail.html">汇率管理</a>
            <div class="dropdown-content">
              <a href="exchange-rate-detail.html">中国人民银行汇率</a>
              <a href="exchange-rate-config.html">汇率浮动配置</a>
              <a href="hqy-business-exchange.html">灏仟亿业务汇率</a>
            </div>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container">
    <!-- 页面标题和描述 -->
    <div class="page-header">
      <h1 class="page-title">在线充值</h1>
      <p class="page-description">查看和管理客户的在线充值记录，包括支付状态、充值金额、手续费等信息</p>
    </div>

    <div class="search-section">
      <div class="search-row">
        <div class="search-group">
          <label>商户ID</label>
          <input type="text" class="search-input" placeholder="输入商户ID">
        </div>
        <div class="search-group">
          <label>子业务名称</label>
          <select class="search-input">
            <option value="">全部业务</option>
            <option value="advertising">Advertising</option>
            <option value="fulfillment">Fulfillment</option>
          </select>
        </div>
        <div class="search-group">
          <label>提交时间</label>
          <input type="date" class="search-input">
        </div>
        <div class="search-group">
          <label>状态</label>
          <select class="search-input">
            <option value="">全部状态</option>
            <option value="pending">待支付</option>
            <option value="success">支付成功</option>
            <option value="failed">支付失败</option>
          </select>
        </div>
        <div style="display: flex; gap: 10px;">
          <button class="btn btn-primary">搜索</button>
          <button class="btn btn-secondary">重置</button>
        </div>
      </div>
    </div>

    <div class="table-container">
      <div class="table-header">
        <h3 class="table-title">在线充值记录</h3>
      </div>

      <div class="table-wrapper">
        <table class="recharge-table">
          <thead>
            <tr>
              <th width="120px">商户ID</th>
              <th width="120px">子业务名称</th>
              <th width="120px">支付平台</th>
              <th width="100px">支付状态</th>
              <th width="160px">提交时间</th>
              <th width="160px">充值时间</th>
              <th width="100px">支付单币种</th>
              <th width="120px">支付单金额</th>
              <th width="100px">入账币种</th>
              <th width="120px">入账金额</th>
              <th width="160px">增加钱包金额(USD)</th>
              <th width="140px">支付平台手续费</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
      <div class="pagination-container">
        <div class="pagination-left">
          <div class="pagination-controls">
            <span>每页显示：</span>
            <select id="pageSize" class="page-size-select">
              <option value="10">10条</option>
              <option value="20">20条</option>
              <option value="50">50条</option>
              <option value="100">100条</option>
            </select>
          </div>
          <div class="pagination-info">
            <span id="paginationInfo">显示第 1-3 条，共 3 条记录</span>
          </div>
        </div>
        <div class="pagination">
          <button id="firstPage" class="pagination-btn">首页</button>
          <button id="prevPage" class="pagination-btn">上一页</button>
          <div id="pageNumbers" class="page-numbers"></div>
          <button id="nextPage" class="pagination-btn">下一页</button>
          <button id="lastPage" class="pagination-btn">末页</button>
          <div class="page-jump">
            <span>跳转到</span>
            <input type="number" id="jumpToPage" class="jump-input" min="1" placeholder="页码">
            <button id="jumpBtn" class="jump-btn">跳转</button>
          </div>
        </div>
      </div>
    </div>
  </main>

  <script>
    // 模拟数据（由原静态行迁移）
    const rechargeData = [
      { merchantId:'US001', business:'Advertising', platform:'Stripe', status:'success', submitTime:'2024-01-15 10:20', rechargeTime:'2024-01-15 10:22', payCurrency:'USD', payAmount:'1,000.00', inCurrency:'USD', inAmount:'1,000.00', walletIncrease:'1,000.00', fee:'$29.30' },
      { merchantId:'US002', business:'Fulfillment', platform:'PayPal', status:'pending', submitTime:'2024-01-16 14:05', rechargeTime:'-', payCurrency:'USD', payAmount:'500.00', inCurrency:'-', inAmount:'-', walletIncrease:'-', fee:'$24.80' },
      { merchantId:'US003', business:'Advertising', platform:'Stripe', status:'failed', submitTime:'2024-01-16 09:12', rechargeTime:'-', payCurrency:'USD', payAmount:'200.00', inCurrency:'-', inAmount:'-', walletIncrease:'-', fee:'$6.46' }
    ];

    const tbody = document.querySelector('.recharge-table tbody');
    let currentPage = 1;
    let pageSize = 10;
    let filteredData = [];

    function renderTableRows(list){
      tbody.innerHTML = '';
      list.forEach(r => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${r.merchantId}</td>
          <td><span class="business-tag">${r.business}</span></td>
          <td><span class="platform-tag">${r.platform}</span></td>
          <td>${renderStatus(r.status)}</td>
          <td>${r.submitTime}</td>
          <td>${r.rechargeTime}</td>
          <td>${r.payCurrency}</td>
          <td class="amount-large ${r.payAmount && r.payAmount!=='-' ? 'amount-positive' : ''}">${r.payAmount}</td>
          <td>${r.inCurrency}</td>
          <td class="amount-large ${r.inAmount && r.inAmount!=='-' ? 'amount-positive' : ''}">${r.inAmount}</td>
          <td class="amount-large ${r.walletIncrease && r.walletIncrease!=='-' ? 'amount-positive' : ''}">${r.walletIncrease}</td>
          <td>${r.fee}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    function renderStatus(status){
      if(status==='success') return '<span class="status-badge status-success">支付成功</span>';
      if(status==='pending') return '<span class="status-badge status-pending">待支付</span>';
      if(status==='failed') return '<span class="status-badge status-failed">支付失败</span>';
      return status || '-';
    }

    function filterData(){
      // 预留筛选：当前示例直接使用全部数据
      filteredData = [...rechargeData];
      currentPage = 1;
    }

    function render(){
      const startIndex = (currentPage - 1) * pageSize;
      const endIndex = startIndex + pageSize;
      const pageData = filteredData.slice(startIndex, endIndex);
      renderTableRows(pageData);
      updatePagination();
    }

    function updatePagination(){
      const total = filteredData.length;
      const totalPages = Math.ceil(total / pageSize) || 1;
      const start = total === 0 ? 0 : (currentPage - 1) * pageSize + 1;
      const end = Math.min(currentPage * pageSize, total);
      document.getElementById('paginationInfo').textContent = `显示第 ${start}-${end} 条，共 ${total} 条记录`;

      document.getElementById('firstPage').disabled = currentPage === 1;
      document.getElementById('prevPage').disabled = currentPage === 1;
      document.getElementById('nextPage').disabled = currentPage === totalPages;
      document.getElementById('lastPage').disabled = currentPage === totalPages;

      const pageNumbers = document.getElementById('pageNumbers');
      pageNumbers.innerHTML = '';
      const maxVisible = 5;
      let startPage = Math.max(1, currentPage - Math.floor(maxVisible/2));
      let endPage = Math.min(totalPages, startPage + maxVisible - 1);
      if (endPage - startPage + 1 < maxVisible) startPage = Math.max(1, endPage - maxVisible + 1);
      for(let i=startPage;i<=endPage;i++){
        const btn = document.createElement('button');
        btn.className = `pagination-btn ${i===currentPage?'active':''}`;
        btn.textContent = i;
        btn.onclick = () => goToPage(i);
        pageNumbers.appendChild(btn);
      }
    }

    function goToPage(page){
      const totalPages = Math.ceil(filteredData.length / pageSize) || 1;
      if(page>=1 && page<=totalPages){
        currentPage = page;
        render();
      }
    }

    function changePageSize(size){
      pageSize = parseInt(size);
      currentPage = 1;
      render();
    }

    // 分页事件
    document.getElementById('pageSize').addEventListener('change', e=>changePageSize(e.target.value));
    document.getElementById('firstPage').addEventListener('click', ()=>goToPage(1));
    document.getElementById('prevPage').addEventListener('click', ()=>goToPage(currentPage-1));
    document.getElementById('nextPage').addEventListener('click', ()=>goToPage(currentPage+1));
    document.getElementById('lastPage').addEventListener('click', ()=>{
      const totalPages = Math.ceil(filteredData.length / pageSize) || 1;
      goToPage(totalPages);
    });
    document.getElementById('jumpBtn').addEventListener('click', ()=>{
      const v = parseInt(document.getElementById('jumpToPage').value);
      if(v) goToPage(v);
    });
    document.getElementById('jumpToPage').addEventListener('keypress', (e)=>{
      if(e.key==='Enter'){
        const v = parseInt(e.target.value);
        if(v) goToPage(v);
      }
    });

    // 初始化
    document.addEventListener('DOMContentLoaded', function() {
      filterData();
      render();
    });
  </script>
</body>
</html>

