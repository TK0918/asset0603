<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-zh="æ”¯ä»˜ç»„ä»¶(ä¸‰åˆ—) - èµ„é‡‘ä¸­å°" data-en="Payment Component (3-Column) - Capital Middle Office">æ”¯ä»˜ç»„ä»¶(ä¸‰åˆ—) - èµ„é‡‘ä¸­å°</title>
  <style>
    :root {
      --primary: #2563eb;
      --primary-hover: #1d4ed8;
      --success: #059669;
      --warning: #d97706;
      --danger: #dc2626;
      --bg: #f8fafc;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --border: #e5e7eb;
      --border-light: #f1f5f9;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    .payment-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .payment-layout {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 24px;
      background: var(--card);
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      overflow: hidden;
      padding: 0 24px 24px 24px;
    }

    /* å·¦ä¾§é€‰æ‹©åŒºåŸŸ */
    .payment-selection {
      background: #fafbfc;
      padding: 32px 0 0 0;
      border-right: 1px solid var(--border-light);
    }

    .section-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
      margin: 24px 0 20px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title::before { content: ''; width: 4px; height: 20px; background: var(--primary); border-radius: 2px; }

    .entity-selector { margin-bottom: 32px; }

    /* é€šç”¨å¡ç‰‡é€‰æ‹©æ ·å¼ï¼ˆä¸šåŠ¡ç±»å‹/é»˜è®¤å¸ç§ï¼‰ */
    .card-group { margin-bottom: 24px; }
    .card-title { display: block; font-size: 14px; font-weight: 500; color: var(--text); margin-bottom: 12px; }
    .card-options { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; }
    .select-card { display: flex; align-items: center; justify-content: center; padding: 12px 16px; border: 2px solid var(--border); border-radius: 10px; background: var(--card); color: var(--text); font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.2s ease-in-out; user-select: none; }
    .select-card:hover { border-color: var(--primary); background: rgba(37, 99, 235, 0.05); }
    .select-card.active { background: var(--primary); color: #fff; border-color: var(--primary); box-shadow: 0 4px 10px rgba(37, 99, 235, 0.15); }

    .payment-methods { margin-bottom: 24px; }
    .payment-methods h4 { font-size: 16px; font-weight: 600; color: var(--text); margin-bottom: 16px; }
    .method-group { margin-bottom: 24px; }
    .method-group h5 { font-size: 14px; font-weight: 500; color: var(--muted); margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
    .method-buttons { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; }
    .method-btn { display: flex; align-items: center; gap: 8px; padding: 12px 16px; border: 2px solid var(--border); border-radius: 8px; background: var(--card); color: var(--text); font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.3s ease; text-align: left; }
    .method-btn:hover { border-color: var(--primary); background: rgba(37, 99, 235, 0.05); }
    .method-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
    .method-btn .check-icon { margin-left: auto; font-size: 16px; }
    .method-logo { width: 20px; height: 20px; object-fit: contain; }

    /* ä¸­é—´æ“ä½œåŒºåŸŸ */
    .payment-actions { padding: 32px 0 0 0; background: var(--card); }
    .action-title { font-size: 18px; font-weight: 600; color: var(--text); margin-bottom: 20px; }
    .account-details { background: #f8fafc; border: 1px solid var(--border-light); border-radius: 12px; padding: 24px; margin-bottom: 24px; }
    .account-details h4 { font-size: 16px; font-weight: 600; color: var(--text); margin-bottom: 16px; }
    .detail-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border-light); }
    .detail-item:last-child { border-bottom: none; }
    .detail-label { font-size: 14px; color: var(--muted); font-weight: 500; }
    .detail-value { font-size: 14px; color: var(--text); font-weight: 600; font-family: 'Monaco', 'Menlo', monospace; }
    .copy-btn { margin-left: 8px; padding: 4px 8px; background: var(--primary); color: white; border: none; border-radius: 4px; font-size: 12px; cursor: pointer; transition: background 0.3s ease; }
    .copy-btn:hover { background: var(--primary-hover); }
    .amount-input { margin-bottom: 24px; }
    .amount-input label { display: block; font-size: 14px; font-weight: 500; color: var(--text); margin-bottom: 8px; }
    .amount-input input { width: 100%; padding: 12px 16px; border: 2px solid var(--border); border-radius: 8px; font-size: 16px; font-weight: 600; transition: border-color 0.3s ease; }
    .amount-input input:focus { outline: none; border-color: var(--primary); }
    .action-buttons { display: flex; gap: 12px; margin-bottom: 24px; }
    .btn { flex: 1; padding: 14px 24px; border: none; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; text-align: center; }
    .btn-primary { background: var(--primary); color: white; }
    .btn-primary:hover { background: var(--primary-hover); }
    .btn-secondary { background: var(--muted); color: white; }
    .btn-secondary:hover { background: #4b5563; }
    .btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .warning-message { background: #fef2f2; border: 1px solid #fecaca; border-radius: 8px; padding: 12px 16px; margin-bottom: 24px; }
    .warning-message .warning-text { color: var(--danger); font-size: 14px; font-weight: 500; }

    /* å³ä¾§æ¸©é¦¨æç¤ºå¸¸é©» */
    .payment-tips { padding: 32px 0 0 0; }
    .tips-section { background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 8px; padding: 16px; }
    .tips-section h5 { font-size: 14px; font-weight: 600; color: var(--primary); margin-bottom: 12px; }
    .tips-list { list-style: none; padding: 0; }
    .tips-list li { font-size: 13px; color: var(--text); margin-bottom: 8px; padding-left: 16px; position: relative; }
    .tips-list li::before { content: 'â€¢'; position: absolute; left: 0; color: var(--primary); font-weight: bold; }
    .tips-list li:last-child { margin-bottom: 0; }

    .upload-section { display: none; background: #f8fafc; border: 2px dashed var(--border); border-radius: 12px; padding: 24px; text-align: center; margin-bottom: 24px; }
    .upload-section.active { display: block; }
    .upload-icon { font-size: 48px; color: var(--muted); margin-bottom: 16px; }
    .upload-text { font-size: 14px; color: var(--muted); margin-bottom: 16px; }
    .file-input { display: none; }
    .upload-btn { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 500; }
    .upload-btn:hover { background: var(--primary-hover); }

    .form-group { margin-bottom: 16px; }
    .form-group label { display: block; font-size: 14px; font-weight: 500; color: var(--text); margin-bottom: 8px; }
    .form-group input, .form-group textarea { width: 100%; padding: 10px 12px; border: 1px solid var(--border); border-radius: 6px; font-size: 14px; transition: border-color 0.3s ease; }
    .form-group input:focus, .form-group textarea:focus { outline: none; border-color: var(--primary); }
    .form-group textarea { resize: vertical; min-height: 80px; }

    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 992px) { .payment-layout { grid-template-columns: 1fr; gap: 0; } .payment-selection { border-right: none; border-bottom: 1px solid var(--border-light); } }

    /* åŠ è½½/æˆåŠŸçŠ¶æ€ä¸è¯­è¨€åˆ‡æ¢ã€è¿”å›æŒ‰é’®å¤ç”¨ */
    .loading { display: inline-block; width: 16px; height: 16px; border: 2px solid #f3f3f3; border-top: 2px solid var(--primary); border-radius: 50%; animation: spin 1s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    .success-message { background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 8px; padding: 16px; margin-bottom: 24px; text-align: center; }
    .success-message .success-text { color: var(--success); font-size: 14px; font-weight: 500; }
    .language-switcher { position: fixed; top: 20px; right: 20px; z-index: 1000; display: flex; gap: 8px; background: var(--card); padding: 8px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); }
    .lang-btn { padding: 6px 12px; border: 1px solid var(--border); border-radius: 6px; background: var(--card); color: var(--text); font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.3s ease; }
    .lang-btn:hover { border-color: var(--primary); background: rgba(37, 99, 235, 0.05); }
    .lang-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
    .back-btn { display: none; padding: 8px 16px; border: 1px solid var(--border); border-radius: 6px; background: var(--card); color: var(--text); font-size: 14px; cursor: pointer; transition: all 0.3s ease; margin-bottom: 16px; }
    .back-btn:hover { border-color: var(--primary); background: rgba(37, 99, 235, 0.05); }
    .back-btn.show { display: inline-block; }

    /* é¡¶éƒ¨å¤§å¡ç‰‡å®¹å™¨ï¼šæ‰¿è½½ä¸šåŠ¡ç±»å‹ä¸é»˜è®¤å¸ç§ */
    .top-config-card { background: #ffffff; border: 1px solid var(--border-light); border-radius: 12px; padding: 16px; margin-bottom: 24px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); }
    .top-config-card .top-config-title { font-size: 15px; font-weight: 600; color: var(--text); margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
    .top-config-card .top-config-title::before { content: ''; width: 4px; height: 18px; background: var(--primary); border-radius: 2px; }
    .top-config-card .top-config-body { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media (max-width: 768px) { .top-config-card .top-config-body { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <!-- è¯­è¨€åˆ‡æ¢æŒ‰é’® -->
  <div class="language-switcher">
    <button class="lang-btn active" data-lang="zh">ä¸­æ–‡</button>
    <button class="lang-btn" data-lang="en">English</button>
  </div>

  <div class="payment-container">
    <!-- é¡¶éƒ¨ä¸åŒåœºæ™¯ï¼ˆç‹¬ç«‹äºæ”¯ä»˜æ–¹å¼ä¸è´¦æˆ·ä¿¡æ¯ä¹‹å¤–ï¼‰ -->
    <div class="top-config-card">
      <div class="top-config-title" data-zh="ä¸åŒåœºæ™¯" data-en="Basic Configuration">ä¸åŒåœºæ™¯</div>
      <div class="top-config-body">
        <!-- ä¸šåŠ¡ç±»å‹é€‰æ‹©ï¼ˆå¡ç‰‡ï¼‰ -->
        <div class="card-group" id="bizTypeGroup">
          <span class="card-title" data-zh="ä¸šåŠ¡ç±»å‹" data-en="Business Type">ä¸šåŠ¡ç±»å‹</span>
          <div class="card-options">
            <div class="select-card active biz-card" data-biz="fulfillment" data-zh="å±¥çº¦" data-en="Fulfillment">å±¥çº¦</div>
            <div class="select-card biz-card" data-biz="ads" data-zh="å¹¿å‘Š" data-en="Ads">å¹¿å‘Š</div>
          </div>
        </div>

        <!-- é»˜è®¤å¸ç§é€‰æ‹©ï¼ˆå¡ç‰‡ï¼‰ -->
        <div class="card-group" id="defaultCurrencyGroup">
          <span class="card-title" data-zh="é»˜è®¤å¸ç§" data-en="Default Currency">é»˜è®¤å¸ç§</span>
          <div class="card-options">
            <div class="select-card active defcur-card" data-currency="USD">USD</div>
            <div class="select-card defcur-card" data-currency="EUR">EUR</div>
            <div class="select-card defcur-card" data-currency="GBP">GBP</div>
            <div class="select-card defcur-card" data-currency="CHF">CHF</div>
          </div>
        </div>
      </div>
    </div>

    <div class="payment-layout">
      <!-- å·¦ï¼šæ”¯ä»˜æ–¹å¼é€‰æ‹© -->
      <div class="payment-selection">
        <div class="section-title" data-zh="é€‰æ‹©æ”¯ä»˜æ–¹å¼" data-en="Select Payment Method">é€‰æ‹©æ”¯ä»˜æ–¹å¼</div>

        <!-- åˆ°è´¦ä¸»ä½“å±•ç¤ºï¼ˆåªè¯»ï¼‰ -->
        <div class="entity-selector">
          <label data-zh="åˆ°è´¦ä¸»ä½“" data-en="Recipient Entity">åˆ°è´¦ä¸»ä½“</label>
          <div id="entityDisplay" style="font-weight: 700; font-size:14px; padding: 10px 12px; border: 2px solid var(--border); border-radius: 8px; background: var(--card);">BESTFULFILL LIMITED</div>
        </div>

        <!-- æ”¯ä»˜å¸ç§å±•ç¤ºï¼ˆåªè¯»ï¼‰ -->
        <div class="currency-selector">
          <label data-zh="æ”¯ä»˜å¸ç§" data-en="Payment Currency">æ”¯ä»˜å¸ç§</label>
          <div id="paymentCurrencyDisplay" style="display:inline-block; padding:8px 14px; border:2px solid var(--border); border-radius:8px; background:var(--card); font-weight:700;">USD</div>
        </div>

        <!-- æ”¯ä»˜æ–¹å¼é€‰æ‹© -->
        <div class="payment-methods">
          <h4 data-zh="æ”¯ä»˜æ–¹å¼" data-en="Payment Methods">æ”¯ä»˜æ–¹å¼</h4>

          <!-- åœ¨çº¿æ”¯ä»˜ -->
          <div class="method-group">
            <h5 data-zh="åœ¨çº¿æ”¯ä»˜" data-en="Online Payment">åœ¨çº¿æ”¯ä»˜</h5>
            <div class="method-buttons" id="onlineMethods">
              <button class="method-btn" data-method="paypal" data-type="online">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="PayPal" class="method-logo">
                <span data-zh="PayPalæ”¯ä»˜" data-en="PayPal Payment">PayPalæ”¯ä»˜</span>
              </button>
              <button class="method-btn" data-method="stripe" data-type="online">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="Stripe" class="method-logo">
                <span data-zh="Stripeæ”¯ä»˜" data-en="Stripe Payment">Stripeæ”¯ä»˜</span>
              </button>
            </div>
          </div>

          <!-- é“¶è¡Œè½¬è´¦ -->
          <div class="method-group">
            <h5 data-zh="é“¶è¡Œè½¬è´¦" data-en="Bank Transfer">é“¶è¡Œè½¬è´¦</h5>
            <div class="method-buttons" id="offlineMethods">
              <button class="method-btn" data-method="hsbc-usd" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="HSBC" class="method-logo">
                <span data-zh="HSBC USD (Swift)" data-en="HSBC USD (Swift)">HSBC USD (Swift)</span>
              </button>
              <button class="method-btn" data-method="wise-eur" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="Wise" class="method-logo">
                <span data-zh="Bank Wise EUR (SEPA)" data-en="Bank Wise EUR (SEPA)">Bank Wise EUR (SEPA)</span>
              </button>
              <button class="method-btn" data-method="wise-gbp" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="Wise" class="method-logo">
                <span data-zh="Bank Wise GBP (domestic)" data-en="Bank Wise GBP (domestic)">Bank Wise GBP (domestic)</span>
              </button>
              <button class="method-btn" data-method="wise-usd" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="Wise" class="method-logo">
                <span data-zh="Bank Wise USD (Swift)" data-en="Bank Wise USD (Swift)">Bank Wise USD (Swift)</span>
              </button>
              <button class="method-btn" data-method="payoneer" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="Payoneer" class="method-logo">
                <span data-zh="Payoneer" data-en="Payoneer">Payoneer</span>
              </button>
              <button class="method-btn" data-method="airwallex" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="Airwallex" class="method-logo">
                <span data-zh="Airwallex" data-en="Airwallex">Airwallex</span>
              </button>
              <button class="method-btn" data-method="worldfirst" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="WorldFirst" class="method-logo">
                <span data-zh="Worldfirst" data-en="Worldfirst">Worldfirst</span>
              </button>
              <button class="method-btn" data-method="pingpong" data-type="offline">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiByeD0iNCIgZmlsbD0iIzAwNkZGRiIvPgo8L3N2Zz4K" alt="PingPong" class="method-logo">
                <span data-zh="PingPong" data-en="PingPong">PingPong</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- ä¸­ï¼šè´¦æˆ·ä¿¡æ¯ä¸è½¬è´¦/ä¸Šä¼  -->
      <div class="payment-actions">
        <button class="back-btn" id="backBtn" onclick="showAccountDetails()" data-zh="â† è¿”å›æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯" data-en="â† Back to Account Details">â† è¿”å›æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯</button>
        <div class="action-title" data-zh="è¯·å‘ä»¥ä¸‹è´¦æˆ·è½¬è´¦" data-en="Please transfer to the following account">è¯·å‘ä»¥ä¸‹è´¦æˆ·è½¬è´¦</div>

        <!-- è´¦æˆ·è¯¦æƒ… -->
        <div class="account-details" id="accountDetails">
          <h4 data-zh="è´¦æˆ·ä¿¡æ¯" data-en="Account Information">è´¦æˆ·ä¿¡æ¯</h4>
          <div id="accountInfoContent"></div>
        </div>

        <!-- åœ¨çº¿æ”¯ä»˜é‡‘é¢è¾“å…¥ -->
        <div class="amount-input" id="onlineAmountInput" style="display: none;">
          <label for="amountInput" data-zh="æ”¯ä»˜é‡‘é¢" data-en="Payment Amount">æ”¯ä»˜é‡‘é¢</label>
          <input type="number" id="amountInput" placeholder="è¯·è¾“å…¥æ”¯ä»˜é‡‘é¢" step="0.01" min="0">
        </div>

        <!-- æ“ä½œæŒ‰é’® -->
        <div class="action-buttons">
          <button class="btn btn-primary" id="payButton" onclick="handlePayment()" data-zh="ç¡®è®¤è½¬è´¦ä¿¡æ¯" data-en="Confirm Transfer Info">ç¡®è®¤è½¬è´¦ä¿¡æ¯</button>
          <button class="btn btn-secondary" id="cancelButton" onclick="resetPayment()" style="display: none;" data-zh="å–æ¶ˆ" data-en="Cancel">å–æ¶ˆ</button>
        </div>

        <!-- è­¦å‘Šä¿¡æ¯ -->
        <div class="warning-message">
          <div class="warning-text" data-zh="è½¬è´¦ååŠ¡å¿…æäº¤é“¶è¡Œæµæ°´å•,å¦åˆ™æ— æ³•åŠæ—¶å®¡æ ¸åˆ°è´¦" data-en="Please submit bank statement after transfer, otherwise payment cannot be reviewed in time">è½¬è´¦ååŠ¡å¿…æäº¤é“¶è¡Œæµæ°´å•,å¦åˆ™æ— æ³•åŠæ—¶å®¡æ ¸åˆ°è´¦</div>
        </div>

        <!-- ä¸Šä¼ å‡­è¯åŒºåŸŸ -->
        <div class="upload-section" id="uploadSection">
          <div class="upload-icon">ğŸ“„</div>
          <div class="upload-text" data-zh="è¯·ä¸Šä¼ é“¶è¡Œè½¬è´¦å‡­è¯" data-en="Please upload bank transfer receipt">è¯·ä¸Šä¼ é“¶è¡Œè½¬è´¦å‡­è¯</div>
          <input type="file" id="fileInput" class="file-input" accept="image/*,.pdf" onchange="handleFileUpload(this)">
          <button class="upload-btn" onclick="document.getElementById('fileInput').click()" data-zh="é€‰æ‹©æ–‡ä»¶" data-en="Select File">é€‰æ‹©æ–‡ä»¶</button>

          <div class="form-group" style="margin-top: 20px;">
            <label for="transferTime" data-zh="è½¬è´¦æ—¶é—´" data-en="Transfer Time">è½¬è´¦æ—¶é—´</label>
            <input type="datetime-local" id="transferTime" required>
          </div>

          <div class="form-group">
            <label for="transferAmount" data-zh="è½¬è´¦é‡‘é¢" data-en="Transfer Amount">è½¬è´¦é‡‘é¢</label>
            <input type="number" id="transferAmount" placeholder="è¯·è¾“å…¥å®é™…è½¬è´¦é‡‘é¢" step="0.01" min="0" required>
          </div>

          <div class="form-group">
            <label for="transferNote" data-zh="å¤‡æ³¨ä¿¡æ¯" data-en="Remarks">å¤‡æ³¨ä¿¡æ¯</label>
            <textarea id="transferNote" placeholder="è¯·è¾“å…¥å¤‡æ³¨ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰"></textarea>
          </div>

          <div class="action-buttons" style="margin-top: 20px;">
            <button class="btn btn-primary" onclick="submitTransfer()" data-zh="æäº¤å®¡æ ¸" data-en="Submit for Review">æäº¤å®¡æ ¸</button>
            <button class="btn btn-secondary" onclick="cancelUpload()" data-zh="å–æ¶ˆ" data-en="Cancel">å–æ¶ˆ</button>
          </div>
        </div>
      </div>

      <!-- å³ï¼šæ¸©é¦¨æç¤ºï¼ˆå¸¸é©»ï¼‰ -->
      <div class="payment-tips">
        <div class="tips-section">
          <h5 data-zh="æ¸©é¦¨æç¤º" data-en="Warm Reminder">æ¸©é¦¨æç¤º</h5>
          <ul class="tips-list">
            <li data-zh="æ”¯ä»˜é‡‘é¢å¿…é¡»ä¸äº¤æ˜“é‡‘é¢ä¸€è‡´ï¼Œå¤šä»˜ã€å°‘ä»˜æˆ–åˆ†æœŸä»˜æ¬¾å‡æ— æ³•é€šè¿‡å®¡æ ¸ï¼Œä»¥å®é™…é“¶è¡Œå›å•é‡‘é¢ä¸ºå‡†ã€‚è¯·å‹¿å¯¹åŒä¸€ç¬”è½¬è´¦é‡å¤æäº¤ç”³è¯·ã€‚" data-en="Payment amount must match transaction amount. Overpayment, underpayment or installment payments will not pass review. Actual bank receipt amount prevails. Do not submit duplicate applications for the same transfer.">æ”¯ä»˜é‡‘é¢å¿…é¡»ä¸äº¤æ˜“é‡‘é¢ä¸€è‡´ï¼Œå¤šä»˜ã€å°‘ä»˜æˆ–åˆ†æœŸä»˜æ¬¾å‡æ— æ³•é€šè¿‡å®¡æ ¸ï¼Œä»¥å®é™…é“¶è¡Œå›å•é‡‘é¢ä¸ºå‡†ã€‚è¯·å‹¿å¯¹åŒä¸€ç¬”è½¬è´¦é‡å¤æäº¤ç”³è¯·ã€‚</li>
            <li data-zh="è½¬è´¦åè¯·æ‰“å°/æ‹æ‘„äº¤æ˜“å›å•ï¼Œæä¾›å‡†ç¡®çš„ä»˜æ¬¾æ—¶é—´ï¼Œå¦åˆ™æ— æ³•å®¡æ ¸ã€‚" data-en="Please print/photograph transaction receipt after transfer and provide accurate payment time, otherwise payment will not be reviewed.">è½¬è´¦åè¯·æ‰“å°/æ‹æ‘„äº¤æ˜“å›å•ï¼Œæä¾›å‡†ç¡®çš„ä»˜æ¬¾æ—¶é—´ï¼Œå¦åˆ™æ— æ³•å®¡æ ¸ã€‚</li>
            <li data-zh="å»ºè®®åœ¨æˆåŠŸæäº¤å4å°æ—¶æŸ¥çœ‹å¯ç”¨ä½™é¢ã€‚å·¥ä½œæ—¶é—´å†…æäº¤å½“æ—¥å¤„ç†ï¼Œéå·¥ä½œæ—¶é—´æäº¤æ¬¡æ—¥å·¥ä½œæ—¥å¤„ç†ã€‚å¦‚æœ‰ç–‘é—®è¯·è”ç³»å®¢æœã€‚" data-en="Check available balance 4 hours after successful submission. Same-day processing during working hours, next working day for non-working hours. Contact customer service for questions.">å»ºè®®åœ¨æˆåŠŸæäº¤å4å°æ—¶æŸ¥çœ‹å¯ç”¨ä½™é¢ã€‚å·¥ä½œæ—¶é—´å†…æäº¤å½“æ—¥å¤„ç†ï¼Œéå·¥ä½œæ—¶é—´æäº¤æ¬¡æ—¥å·¥ä½œæ—¥å¤„ç†ã€‚å¦‚æœ‰ç–‘é—®è¯·è”ç³»å®¢æœã€‚</li>
            <li data-zh="På¡è½¬è´¦å¯èƒ½å­˜åœ¨10åˆ†é’Ÿå»¶è¿Ÿï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚" data-en="P-card transfer may have 10-minute delay, please be patient.">På¡è½¬è´¦å¯èƒ½å­˜åœ¨10åˆ†é’Ÿå»¶è¿Ÿï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚</li>
            <li data-zh="Airwallexæ”¯ä»˜æ”¶å–0.02%æ‰‹ç»­è´¹ã€‚" data-en="Airwallex payment charges 0.02% handling fee.">Airwallexæ”¯ä»˜æ”¶å–0.02%æ‰‹ç»­è´¹ã€‚</li>
            <li data-zh="é¢„ä»˜è´¹å……å€¼æ”¶å–1%å¹³å°æŠ€æœ¯æœåŠ¡è´¹ï¼Œè¯¦è§ã€Šè´¹ç”¨è§„åˆ™ã€‹ã€‚" data-en="Prepaid top-up charges 1% platform technical service fee, see Fee Rules.">é¢„ä»˜è´¹å……å€¼æ”¶å–1%å¹³å°æŠ€æœ¯æœåŠ¡è´¹ï¼Œè¯¦è§ã€Šè´¹ç”¨è§„åˆ™ã€‹ã€‚</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <script>
    // å½“å‰é€‰æ‹©çš„æ”¯ä»˜æ–¹å¼
    let currentMethod = '';
    let currentType = '';
    let currentCurrency = 'USD'; // é»˜è®¤å¸ç§
    let currentEntity = 'bestfulfill'; // ç”±ä¸šåŠ¡ç±»å‹å†³å®š
    let currentBizType = 'fulfillment'; // é»˜è®¤å±¥çº¦
    let currentLanguage = 'zh';

    // æ”¯ä»˜æ–¹å¼é…ç½®æ•°æ®ï¼ˆä¸æºæ–‡ä»¶ä¸€è‡´ï¼‰
    const paymentMethods = {
      paypal: { name: { zh: 'PayPalæ”¯ä»˜', en: 'PayPal Payment' }, type: 'online', logo: 'paypal-logo.png' },
      stripe: { name: { zh: 'Stripeæ”¯ä»˜', en: 'Stripe Payment' }, type: 'online', logo: 'stripe-logo.png' },
      'hsbc-usd': { name: { zh: 'HSBC USD (Swift)', en: 'HSBC USD (Swift)' }, type: 'offline', account: { bankName: { zh: 'æ±‡ä¸°é“¶è¡Œ', en: 'HSBC' }, accountHolder: 'MUXUE TRADE LIMITED', accountNumber: '909100109055', swiftCode: 'HSBCCNSHGZF', bankCode: '004', bankAddress: 'UNIT 101 GF CHENGCHUANG BLDG, NO.10 GUI CHENG DENG HU EAST ROAD, NANHAI, FOSHAN, GUANGDONG, CHINA', beneficiaryAddress: 'Office Unit B ON 9/F Thomson Commercial Building 8 Thomson Road. Hong Kong', postalCode: '999077', branchName: 'HSBC BANK (CHINA) COMPANY LIMITED FOSHAN BRANCH' } },
      'wise-eur': { name: { zh: 'Bank Wise EUR (SEPA)', en: 'Bank Wise EUR (SEPA)' }, type: 'offline', account: { bankName: { zh: 'Wise', en: 'Wise' }, accountHolder: 'BESTADS LIMITED', accountNumber: 'BE81905548992624', swiftCode: 'TRWIBEB1XXX', bankCode: '001', bankAddress: 'Rue du TrÃ´ne 100, 3rd floor, Brussels, 1050, Belgium' } },
      'wise-gbp': { name: { zh: 'Bank Wise GBP (domestic)', en: 'Bank Wise GBP (domestic)' }, type: 'offline', account: { bankName: { zh: 'Wise Payments Limited', en: 'Wise Payments Limited' }, accountHolder: 'BESTADS LIMITED', accountNumber: '54330067', sortCode: '23-08-01', iban: 'GB32TRWI23080154330067', swiftCode: 'TRWIGB2LXXX', bankCode: '002', bankAddress: '1st Floor, Worship Square, 65 Clifton Street, London, EC2A 4JE, United Kingdom' } },
      'wise-usd': { name: { zh: 'Bank Wise USD (Swift)', en: 'Bank Wise USD (Swift)' }, type: 'offline', account: { bankName: { zh: 'Wise Payments Limited', en: 'Wise Payments Limited' }, accountHolder: 'BESTADS LIMITED', accountNumber: '54330067', sortCode: '23-08-01', iban: 'GB32TRWI23080154330067', swiftCode: 'TRWIGB2LXXX', bankCode: '003', bankAddress: '1st Floor, Worship Square, 65 Clifton Street, London, EC2A 4JE, United Kingdom' } },
      payoneer: { name: { zh: 'Payoneer', en: 'Payoneer' }, type: 'offline', account: { bankName: { zh: 'Payoneer', en: 'Payoneer' }, accountHolder: 'BESTFULFILL INTERNATIONAL LIMITED', accountNumber: 'bestfulfill@163.com', swiftCode: 'PAYONEER', bankCode: '004', bankAddress: 'Payoneer Address' } },
      airwallex: { name: { zh: 'Airwallex', en: 'Airwallex' }, type: 'offline', account: { bankName: { zh: 'Airwallex Pay', en: 'Airwallex Pay' }, accountHolder: 'ç‰§é›ªè²¿æ˜“æœ‰é™å…¬å¸ (Muxue Trade Co., Ltd.)', accountNumber: '1011106829132869', swiftCode: 'AIRWALLEX', bankCode: '005', bankAddress: 'Airwallex Address', alternativeName: 'MUXUE TRADE LIMITED', note: { zh: 'è¯·ä½¿ç”¨ç¡®åˆ‡çš„è´¦æˆ·åç§°ï¼Œå¦åˆ™å­˜æ¬¾å¯èƒ½è¢«æ‹’ç»', en: 'Please use exact account name or your deposit may be rejected' } },
      worldfirst: { name: { zh: 'Worldfirst', en: 'Worldfirst' }, type: 'offline', account: { bankName: { zh: 'WorldFirst', en: 'WorldFirst' }, accountHolder: 'MUXUE TRADE LIMITED', accountNumber: 'WF-281024151920307013261793', swiftCode: 'WORLDFIRST', bankCode: '006', bankAddress: 'WorldFirst Address' } },
      pingpong: { name: { zh: 'PingPong', en: 'PingPong' }, type: 'offline', account: { bankName: { zh: 'PingPong', en: 'PingPong' }, accountHolder: 'BESTFULFILL INTERNATIONAL LIMITED', accountNumber: 'bestfulfill_intl@163.com', swiftCode: 'PINGPONG', bankCode: '007', bankAddress: 'PingPong Address' } }
    };

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      initializeEventListeners();
      applyFiltersByDefaultCurrency();
      autoSelectFirstAvailableMethod();
      updateAccountDetails();
      updateLanguage();
      updateEntityDisplay();
      updatePaymentCurrencyDisplay();
    });

    // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
    function initializeEventListeners() {
      // è¯­è¨€åˆ‡æ¢
      document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          currentLanguage = this.dataset.lang;
          updateLanguage();
        });
      });

      // ä¸šåŠ¡ç±»å‹å¡ç‰‡ï¼ˆäº‹ä»¶å§”æ‰˜ï¼‰
      const bizContainer = document.querySelector('#bizTypeGroup .card-options');
      if (bizContainer) {
        bizContainer.addEventListener('click', function(e) {
          const card = e.target.closest('.biz-card');
          if (!card) return;
          document.querySelectorAll('.biz-card').forEach(c => c.classList.remove('active'));
          card.classList.add('active');
          currentBizType = card.dataset.biz; // fulfillment | ads
          currentEntity = currentBizType === 'fulfillment' ? 'bestfulfill' : 'muxue';
          updateEntityDisplay();
        });
      }

      // é»˜è®¤å¸ç§å¡ç‰‡ï¼ˆäº‹ä»¶å§”æ‰˜ï¼‰
      const currencyContainer = document.querySelector('#defaultCurrencyGroup .card-options');
      if (currencyContainer) {
        currencyContainer.addEventListener('click', function(e) {
          const card = e.target.closest('.defcur-card');
          if (!card) return;
          document.querySelectorAll('.defcur-card').forEach(c => c.classList.remove('active'));
          card.classList.add('active');
          currentCurrency = card.dataset.currency;
          updatePaymentCurrencyDisplay();
          applyFiltersByDefaultCurrency();
          autoSelectFirstAvailableMethod();
          updateAccountDetails();
          updateActionArea();
        });
      }

      // æ”¯ä»˜æ–¹å¼é€‰æ‹©ï¼ˆäº‹ä»¶å§”æ‰˜ï¼Œæå‡å¥å£®æ€§ï¼‰
      ['onlineMethods','offlineMethods'].forEach(cid => {
        const container = document.getElementById(cid);
        if (!container) return;
        container.addEventListener('click', function(e) {
          const btn = e.target.closest('.method-btn');
          if (!btn || btn.style.display === 'none') return;
          const method = btn.dataset.method;
          const type = btn.dataset.type;

          document.querySelectorAll('.method-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');

          currentMethod = method;
          currentType = type;

          updateAccountDetails();
          updateActionArea();
          if (currentType === 'offline') {
            showAccountDetails();
          }
        });
      });
    }

    // æ›´æ–°è¯­è¨€
    function updateLanguage() {
      const elements = document.querySelectorAll('[data-zh][data-en]');
      elements.forEach(element => {
        const text = element.dataset[currentLanguage];
        if (text) {
          if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = text;
          } else {
            element.textContent = text;
          }
        }
      });
    }

    // æ›´æ–°è´¦æˆ·è¯¦æƒ…
    function updateAccountDetails() {
      const method = paymentMethods[currentMethod];
      const accountInfoContent = document.getElementById('accountInfoContent');
      if (!method || !method.account) {
        if (accountInfoContent) accountInfoContent.innerHTML = '';
        return;
      }

      const account = method.account;
      let accountInfo = '';

      if (currentMethod === 'hsbc-usd') {
        accountInfo = `
          <div class="detail-item">
            <span class="detail-label" data-zh="æ”¶æ¬¾äººåç§°" data-en="Beneficiary name">æ”¶æ¬¾äººåç§°</span>
            <span class="detail-value">${account.accountHolder}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="æ”¶æ¬¾äººåœ°å€" data-en="Beneficiary Address">æ”¶æ¬¾äººåœ°å€</span>
            <span class="detail-value">${account.beneficiaryAddress}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="é‚®æ”¿ç¼–ç " data-en="Postal Code">é‚®æ”¿ç¼–ç </span>
            <span class="detail-value">${account.postalCode}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="é“¶è¡Œåç§°" data-en="Bank Name">é“¶è¡Œåç§°</span>
            <span class="detail-value">${account.bankName[currentLanguage] || account.bankName}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦å·" data-en="Account number">è´¦å·</span>
            <span class="detail-value">${account.accountNumber} <button class="copy-btn" onclick="copyToClipboard('${account.accountNumber}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="SWIFT" data-en="SWIFT">SWIFT</span>
            <span class="detail-value">${account.swiftCode} <button class="copy-btn" onclick="copyToClipboard('${account.swiftCode}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="æ”¶æ¬¾é“¶è¡Œåˆ†è¡Œåç§°" data-en="Beneficiary Bank Branch name">æ”¶æ¬¾é“¶è¡Œåˆ†è¡Œåç§°</span>
            <span class="detail-value">${account.branchName}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="é“¶è¡Œåœ°å€" data-en="Bank Address">é“¶è¡Œåœ°å€</span>
            <span class="detail-value">${account.bankAddress}</span>
          </div>`;
      } else if (currentMethod.includes('wise-eur')) {
        accountInfo = `
          <div class="detail-item">
            <span class="detail-label" data-zh="å§“å" data-en="Name">å§“å</span>
            <span class="detail-value">${account.accountHolder}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="IBAN" data-en="IBAN">IBAN</span>
            <span class="detail-value">${account.accountNumber} <button class="copy-btn" onclick="copyToClipboard('${account.accountNumber}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="Swift/BIC" data-en="Swift/BIC">Swift/BIC</span>
            <span class="detail-value">${account.swiftCode} <button class="copy-btn" onclick="copyToClipboard('${account.swiftCode}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="é“¶è¡Œåç§°" data-en="Bank name">é“¶è¡Œåç§°</span>
            <span class="detail-value">${account.bankName[currentLanguage] || account.bankName}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="é“¶è¡Œåœ°å€" data-en="Bank address">é“¶è¡Œåœ°å€</span>
            <span class="detail-value">${account.bankAddress}</span>
          </div>`;
      } else if (currentMethod.includes('wise-gbp') || currentMethod.includes('wise-usd')) {
        accountInfo = `
          <div class="detail-item">
            <span class="detail-label" data-zh="å§“å" data-en="Name">å§“å</span>
            <span class="detail-value">${account.accountHolder}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦å·" data-en="Account number">è´¦å·</span>
            <span class="detail-value">${account.accountNumber} <button class="copy-btn" onclick="copyToClipboard('${account.accountNumber}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="Sort code" data-en="Sort code">Sort code</span>
            <span class="detail-value">${account.sortCode}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="IBAN" data-en="IBAN">IBAN</span>
            <span class="detail-value">${account.iban} <button class="copy-btn" onclick="copyToClipboard('${account.iban}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="Swift/BIC" data-en="Swift/BIC">Swift/BIC</span>
            <span class="detail-value">${account.swiftCode} <button class="copy-btn" onclick="copyToClipboard('${account.swiftCode}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="é“¶è¡Œåç§°" data-en="Bank name">é“¶è¡Œåç§°</span>
            <span class="detail-value">${account.bankName[currentLanguage] || account.bankName}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="é“¶è¡Œåœ°å€" data-en="Bank address">é“¶è¡Œåœ°å€</span>
            <span class="detail-value">${account.bankAddress}</span>
          </div>`;
      } else if (currentMethod === 'payoneer') {
        accountInfo = `
          <div class="detail-item">
            <span class="detail-label" data-zh="Payoneerè´¦æˆ·" data-en="Payoneer Account">Payoneerè´¦æˆ·</span>
            <span class="detail-value">${account.accountNumber} <button class="copy-btn" onclick="copyToClipboard('${account.accountNumber}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>`;
      } else if (currentMethod === 'airwallex') {
        accountInfo = `
          <div class="detail-item">
            <span class="detail-label" data-zh="Airwallex Payè´¦æˆ·ä¿¡æ¯" data-en="Airwallex Pay account information">Airwallex Payè´¦æˆ·ä¿¡æ¯</span>
            <span class="detail-value"></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦å·" data-en="Account number">è´¦å·</span>
            <span class="detail-value">${account.accountNumber} <button class="copy-btn" onclick="copyToClipboard('${account.accountNumber}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦æˆ·åç§°" data-en="Account name">è´¦æˆ·åç§°</span>
            <span class="detail-value">${account.accountHolder}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="å¤‡ç”¨è´¦æˆ·åç§°" data-en="Alternative account name">å¤‡ç”¨è´¦æˆ·åç§°</span>
            <span class="detail-value">${account.alternativeName}</span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="å¤‡æ³¨" data-en="Note">å¤‡æ³¨</span>
            <span class="detail-value">${account.note[currentLanguage] || account.note}</span>
          </div>`;
      } else if (currentMethod === 'worldfirst') {
        accountInfo = `
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦å·" data-en="Account number">è´¦å·</span>
            <span class="detail-value">${account.accountNumber} <button class="copy-btn" onclick="copyToClipboard('${account.accountNumber}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦æˆ·åç§°" data-en="Account name">è´¦æˆ·åç§°</span>
            <span class="detail-value">${account.accountHolder}</span>
          </div>`;
      } else if (currentMethod === 'pingpong') {
        accountInfo = `
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦å·" data-en="Account number">è´¦å·</span>
            <span class="detail-value">${account.accountNumber} <button class="copy-btn" onclick="copyToClipboard('${account.accountNumber}')" data-zh="å¤åˆ¶" data-en="Copy">å¤åˆ¶</button></span>
          </div>
          <div class="detail-item">
            <span class="detail-label" data-zh="è´¦æˆ·åç§°" data-en="Account name">è´¦æˆ·åç§°</span>
            <span class="detail-value">${account.accountHolder}</span>
          </div>`;
      }

      accountInfoContent.innerHTML = accountInfo;
      updateLanguage();
    }

    // æ ¹æ®é»˜è®¤å¸ç§è¿‡æ»¤æ”¯ä»˜æ–¹å¼æ˜¾ç¤ºï¼ˆä¿æŒä¸æºæ–‡ä»¶ä¸€è‡´ï¼‰
    function applyFiltersByDefaultCurrency() {
      const onlineContainer = document.getElementById('onlineMethods');
      const offlineContainer = document.getElementById('offlineMethods');

      onlineContainer.querySelectorAll('.method-btn').forEach(b => b.style.display = 'flex');
      offlineContainer.querySelectorAll('.method-btn').forEach(b => b.style.display = 'flex');

      if (currentCurrency === 'USD') {
        onlineContainer.querySelectorAll('.method-btn').forEach(b => { const m = b.dataset.method; b.style.display = (m === 'paypal' || m === 'stripe') ? 'flex' : 'none'; });
        offlineContainer.querySelectorAll('.method-btn').forEach(b => { const m = b.dataset.method; b.style.display = (m === 'payoneer' || m === 'airwallex' || m === 'worldfirst' || m === 'pingpong' || m === 'hsbc-usd') ? 'flex' : 'none'; });
      } else if (currentCurrency === 'EUR') {
        onlineContainer.querySelectorAll('.method-btn').forEach(b => b.style.display = 'none');
        offlineContainer.querySelectorAll('.method-btn').forEach(b => { const m = b.dataset.method; b.style.display = (m === 'wise-eur') ? 'flex' : 'none'; });
      } else if (currentCurrency === 'GBP') {
        onlineContainer.querySelectorAll('.method-btn').forEach(b => b.style.display = 'none');
        offlineContainer.querySelectorAll('.method-btn').forEach(b => { const m = b.dataset.method; b.style.display = (m === 'wise-gbp') ? 'flex' : 'none'; });
      } else if (currentCurrency === 'CHF') {
        onlineContainer.querySelectorAll('.method-btn').forEach(b => b.style.display = 'none');
        offlineContainer.querySelectorAll('.method-btn').forEach(b => b.style.display = 'none');
      }

      document.querySelectorAll('.method-btn').forEach(b => b.classList.remove('active'));
    }

    // è‡ªåŠ¨é€‰æ‹©é¦–ä¸ªå¯ç”¨æ–¹å¼
    function autoSelectFirstAvailableMethod() {
      const visibleBtn = Array.from(document.querySelectorAll('.method-btn')).find(b => b.style.display !== 'none');
      if (visibleBtn) {
        visibleBtn.classList.add('active');
        currentMethod = visibleBtn.dataset.method;
        currentType = visibleBtn.dataset.type;
      } else {
        currentMethod = '';
        currentType = '';
      }
    }

    // æ›´æ–°ä¸»ä½“å±•ç¤º
    function updateEntityDisplay() {
      const display = document.getElementById('entityDisplay');
      display.textContent = currentBizType === 'fulfillment' ? 'BESTFULFILL LIMITED' : 'MUXUE LIMITED';
    }

    // æ›´æ–°æ”¯ä»˜å¸ç§å±•ç¤º
    function updatePaymentCurrencyDisplay() {
      const display = document.getElementById('paymentCurrencyDisplay');
      display.textContent = currentCurrency;
    }

    // æ›´æ–°æ“ä½œåŒºåŸŸ
    function updateActionArea() {
      const onlineAmountInput = document.getElementById('onlineAmountInput');
      const payButton = document.getElementById('payButton');
      const uploadSection = document.getElementById('uploadSection');

      if (currentType === 'online') {
        onlineAmountInput.style.display = 'block';
        payButton.textContent = 'ç«‹å³æ”¯ä»˜';
        payButton.onclick = handleOnlinePayment;
        uploadSection.classList.remove('active');
      } else {
        onlineAmountInput.style.display = 'none';
        payButton.textContent = 'ç¡®è®¤è½¬è´¦ä¿¡æ¯';
        payButton.onclick = handleOfflinePayment;
        uploadSection.classList.remove('active');
      }
      // ä¾æ®å½“å‰è¯­è¨€åˆ·æ–°æ‰€æœ‰å¸¦ data-zh/data-en çš„æ–‡æ¡ˆï¼ˆç¡®ä¿æŒ‰é’®æ–‡æ¡ˆä¸è¯­è¨€ä¸€è‡´ï¼‰
      updateLanguage();
    }

    // å¤„ç†åœ¨çº¿æ”¯ä»˜
    function handleOnlinePayment() {
      const amount = document.getElementById('amountInput').value;
      if (!amount || amount <= 0) {
        alert(currentLanguage === 'zh' ? 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ”¯ä»˜é‡‘é¢' : 'Please enter a valid payment amount');
        return;
      }

      const button = document.getElementById('payButton');
      const originalText = button.textContent;
      button.innerHTML = `<span class="loading"></span> ${currentLanguage === 'zh' ? 'å¤„ç†ä¸­...' : 'Processing...'}`;
      button.disabled = true;

      setTimeout(() => {
        const methodName = paymentMethods[currentMethod].name[currentLanguage] || paymentMethods[currentMethod].name;
        alert(currentLanguage === 'zh' ? `æ­£åœ¨è·³è½¬åˆ°${methodName}æ”¯ä»˜é¡µé¢ï¼Œé‡‘é¢ï¼š${currentCurrency} ${amount}` : `Redirecting to ${methodName} payment page, amount: ${currentCurrency} ${amount}`);
        button.textContent = originalText;
        button.disabled = false;
      }, 2000);
    }

    // å¤„ç†çº¿ä¸‹è½¬è´¦ï¼ˆä¸­åˆ—åˆ‡æ¢ä¸ºä¸Šä¼ åŒºï¼Œå³åˆ—æ¸©é¦¨æç¤ºå¸¸é©»ä¸éšè—ï¼‰
    function handleOfflinePayment() {
      document.getElementById('uploadSection').classList.add('active');
      document.getElementById('accountDetails').style.display = 'none';
      document.querySelector('.action-title').style.display = 'none';
      document.querySelector('.warning-message').style.display = 'none';
      document.getElementById('backBtn').classList.add('show');

      const payButton = document.getElementById('payButton');
      const cancelButton = document.getElementById('cancelButton');
      payButton.style.display = 'none';
      cancelButton.style.display = 'block';
    }

    // æ˜¾ç¤ºè´¦æˆ·è¯¦æƒ…ï¼ˆå³ä¾§æ¸©é¦¨æç¤ºä¿æŒå¯è§ï¼‰
    function showAccountDetails() {
      document.getElementById('uploadSection').classList.remove('active');
      document.getElementById('accountDetails').style.display = 'block';
      document.querySelector('.action-title').style.display = 'block';
      document.querySelector('.warning-message').style.display = 'block';
      document.getElementById('backBtn').classList.remove('show');

      const payButton = document.getElementById('payButton');
      const cancelButton = document.getElementById('cancelButton');
      payButton.style.display = 'block';
      cancelButton.style.display = 'none';
    }

    // å¤„ç†æ–‡ä»¶ä¸Šä¼ 
    function handleFileUpload(input) {
      const file = input.files[0];
      if (file) {
        const uploadBtn = input.nextElementSibling;
        uploadBtn.textContent = `${currentLanguage === 'zh' ? 'å·²é€‰æ‹©' : 'Selected'}: ${file.name}`;
        uploadBtn.style.background = '#059669';
      }
    }

    // æäº¤è½¬è´¦ç”³è¯·
    function submitTransfer() {
      const transferTime = document.getElementById('transferTime').value;
      const transferAmount = document.getElementById('transferAmount').value;
      const fileInput = document.getElementById('fileInput');
      if (!transferTime) { alert(currentLanguage === 'zh' ? 'è¯·é€‰æ‹©è½¬è´¦æ—¶é—´' : 'Please select transfer time'); return; }
      if (!transferAmount || transferAmount <= 0) { alert(currentLanguage === 'zh' ? 'è¯·è¾“å…¥æœ‰æ•ˆçš„è½¬è´¦é‡‘é¢' : 'Please enter a valid transfer amount'); return; }
      if (!fileInput.files[0]) { alert(currentLanguage === 'zh' ? 'è¯·ä¸Šä¼ é“¶è¡Œè½¬è´¦å‡­è¯' : 'Please upload bank transfer receipt'); return; }

      const button = event.target;
      const originalText = button.textContent;
      button.innerHTML = `<span class=\"loading\"></span> ${currentLanguage === 'zh' ? 'æäº¤ä¸­...' : 'Submitting...'}`;
      button.disabled = true;

      setTimeout(() => {
        const successMessage = document.createElement('div');
        successMessage.className = 'success-message';
        successMessage.innerHTML = `<div class="success-text">${currentLanguage === 'zh' ? 'è½¬è´¦ç”³è¯·æäº¤æˆåŠŸï¼æˆ‘ä»¬å°†åœ¨1-2ä¸ªå·¥ä½œæ—¥å†…å®¡æ ¸æ‚¨çš„ç”³è¯·ã€‚' : 'Transfer application submitted successfully! We will review your application within 1-2 business days.'}</div>`;
        document.querySelector('.payment-actions').insertBefore(successMessage, document.getElementById('accountDetails'));
        resetPayment();
        button.textContent = originalText;
        button.disabled = false;
      }, 2000);
    }

    // å–æ¶ˆä¸Šä¼ 
    function cancelUpload() {
      showAccountDetails();
      document.getElementById('fileInput').value = '';
      document.getElementById('transferTime').value = '';
      document.getElementById('transferAmount').value = '';
      document.getElementById('transferNote').value = '';
      document.querySelector('.upload-btn').textContent = currentLanguage === 'zh' ? 'é€‰æ‹©æ–‡ä»¶' : 'Select File';
      document.querySelector('.upload-btn').style.background = '';
    }

    // é‡ç½®æ”¯ä»˜
    function resetPayment() {
      showAccountDetails();
      const amountInput = document.getElementById('amountInput');
      if (amountInput) amountInput.value = '';
      document.getElementById('accountDetails').style.display = 'block';
      document.querySelector('.action-title').style.display = 'block';
      document.querySelector('.warning-message').style.display = 'block';
      const successMessage = document.querySelector('.success-message');
      if (successMessage) successMessage.remove();
    }

    // å¤åˆ¶åˆ°å‰ªè´´æ¿
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        const button = event.target;
        const originalText = button.textContent;
        button.textContent = currentLanguage === 'zh' ? 'å·²å¤åˆ¶' : 'Copied';
        button.style.background = '#059669';
        setTimeout(() => { button.textContent = originalText; button.style.background = ''; }, 2000);
      }).catch(err => {
        console.error('å¤åˆ¶å¤±è´¥:', err);
        alert(currentLanguage === 'zh' ? 'å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶' : 'Copy failed, please copy manually');
      });
    }

    // å¤„ç†æ”¯ä»˜
    function handlePayment() { if (currentType === 'online') { handleOnlinePayment(); } else { handleOfflinePayment(); } }
  </script>
</body>
</html>


